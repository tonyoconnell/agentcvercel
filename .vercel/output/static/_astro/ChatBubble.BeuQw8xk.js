import{j as t}from"./jsx-runtime._qNxob7_.js";import{r as i}from"./index.DWKhlr8t.js";import{c as Q,a as _,b as X,R as Y,d as ee,A as b,P as E,e as v,f as T,g as oe,h as te,i as re,j as se,F as ae,D as ne,C as ie,k as ce,l as le,m as k,T as de,w as A,n as pe,o as ue,t as ve,u as fe}from"./thread.Co-DP7xE.js";import{u as F,S as he}from"./index.DrJg9Js7.js";import"./index.Cy6fXh2N.js";var R="Popover",[S,ge]=Q(R,[_]),g=_(),[me,p]=S(R),D=e=>{const{__scopePopover:o,children:r,open:s,defaultOpen:a,onOpenChange:n,modal:c=!1}=e,l=g(o),d=i.useRef(null),[h,m]=i.useState(!1),[P=!1,u]=X({prop:s,defaultProp:a,onChange:n});return t.jsx(Y,{...l,children:t.jsx(me,{scope:o,contentId:ee(),triggerRef:d,open:P,onOpenChange:u,onOpenToggle:i.useCallback(()=>u(C=>!C),[u]),hasCustomAnchor:h,onCustomAnchorAdd:i.useCallback(()=>m(!0),[]),onCustomAnchorRemove:i.useCallback(()=>m(!1),[]),modal:c,children:r})})};D.displayName=R;var I="PopoverAnchor",B=i.forwardRef((e,o)=>{const{__scopePopover:r,...s}=e,a=p(I,r),n=g(r),{onCustomAnchorAdd:c,onCustomAnchorRemove:l}=a;return i.useEffect(()=>(c(),()=>l()),[c,l]),t.jsx(b,{...n,...s,ref:o})});B.displayName=I;var L="PopoverTrigger",H=i.forwardRef((e,o)=>{const{__scopePopover:r,...s}=e,a=p(L,r),n=g(r),c=F(o,a.triggerRef),l=t.jsx(E.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":$(a.open),...s,ref:c,onClick:v(e.onClick,a.onOpenToggle)});return a.hasCustomAnchor?l:t.jsx(b,{asChild:!0,...n,children:l})});H.displayName=L;var M="PopoverPortal",[Pe,xe]=S(M,{forceMount:void 0}),G=e=>{const{__scopePopover:o,forceMount:r,children:s,container:a}=e,n=p(M,o);return t.jsx(Pe,{scope:o,forceMount:r,children:t.jsx(T,{present:r||n.open,children:t.jsx(oe,{asChild:!0,container:a,children:s})})})};G.displayName=M;var f="PopoverContent",q=i.forwardRef((e,o)=>{const r=xe(f,e.__scopePopover),{forceMount:s=r.forceMount,...a}=e,n=p(f,e.__scopePopover);return t.jsx(T,{present:s||n.open,children:n.modal?t.jsx(Ce,{...a,ref:o}):t.jsx(Ae,{...a,ref:o})})});q.displayName=f;var Ce=i.forwardRef((e,o)=>{const r=p(f,e.__scopePopover),s=i.useRef(null),a=F(o,s),n=i.useRef(!1);return i.useEffect(()=>{const c=s.current;if(c)return te(c)},[]),t.jsx(re,{as:he,allowPinchZoom:!0,children:t.jsx(K,{...e,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:v(e.onCloseAutoFocus,c=>{c.preventDefault(),n.current||r.triggerRef.current?.focus()}),onPointerDownOutside:v(e.onPointerDownOutside,c=>{const l=c.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;n.current=h},{checkForDefaultPrevented:!1}),onFocusOutside:v(e.onFocusOutside,c=>c.preventDefault(),{checkForDefaultPrevented:!1})})})}),Ae=i.forwardRef((e,o)=>{const r=p(f,e.__scopePopover),s=i.useRef(!1),a=i.useRef(!1);return t.jsx(K,{...e,ref:o,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{e.onCloseAutoFocus?.(n),n.defaultPrevented||(s.current||r.triggerRef.current?.focus(),n.preventDefault()),s.current=!1,a.current=!1},onInteractOutside:n=>{e.onInteractOutside?.(n),n.defaultPrevented||(s.current=!0,n.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=n.target;r.triggerRef.current?.contains(c)&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&a.current&&n.preventDefault()}})}),K=i.forwardRef((e,o)=>{const{__scopePopover:r,trapFocus:s,onOpenAutoFocus:a,onCloseAutoFocus:n,disableOutsidePointerEvents:c,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onInteractOutside:m,...P}=e,u=p(f,r),C=g(r);return se(),t.jsx(ae,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:a,onUnmountAutoFocus:n,children:t.jsx(ne,{asChild:!0,disableOutsidePointerEvents:c,onInteractOutside:m,onEscapeKeyDown:l,onPointerDownOutside:d,onFocusOutside:h,onDismiss:()=>u.onOpenChange(!1),children:t.jsx(ie,{"data-state":$(u.open),role:"dialog",id:u.contentId,...C,...P,ref:o,style:{...P.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),V="PopoverClose",Re=i.forwardRef((e,o)=>{const{__scopePopover:r,...s}=e,a=p(V,r);return t.jsx(E.button,{type:"button",...s,ref:o,onClick:v(e.onClick,()=>a.onOpenChange(!1))})});Re.displayName=V;var Me="PopoverArrow",je=i.forwardRef((e,o)=>{const{__scopePopover:r,...s}=e,a=g(r);return t.jsx(ce,{...a,...s,ref:o})});je.displayName=Me;function $(e){return e?"open":"closed"}var Oe=D,ye=B,Ne=H,we=G,_e=q,x=ge(),be=({defaultOpen:e=!1,unstable_openOnRunStart:o=!0})=>{const r=i.useState(e),[,s]=r,a=le();return i.useEffect(()=>{if(o)return a.unstable_on("run-start",()=>{s(!0)})},[o]),r},z=({__scopeAssistantModal:e,defaultOpen:o,unstable_openOnRunStart:r,open:s,onOpenChange:a,...n})=>{const c=x(e),[l,d]=be({defaultOpen:o,unstable_openOnRunStart:r});return t.jsx(Oe,{...c,open:s===void 0?l:s,onOpenChange:v(a,d),...n})};z.displayName="AssistantModalPrimitive.Root";var U=i.forwardRef(({__scopeAssistantModal:e,...o},r)=>{const s=x(e);return t.jsx(Ne,{...s,...o,ref:r})});U.displayName="AssistantModalPrimitive.Trigger";var W=i.forwardRef(({__scopeAssistantModal:e,side:o,align:r,onInteractOutside:s,dissmissOnInteractOutside:a=!1,...n},c)=>{const l=x(e);return t.jsx(we,{...l,children:t.jsx(_e,{...l,...n,ref:c,side:o??"top",align:r??"end",onInteractOutside:v(s,a?void 0:d=>d.preventDefault())})})});W.displayName="AssistantModalPrimitive.Content";var Z=i.forwardRef(({__scopeAssistantModal:e,...o},r)=>{const s=x(e);return t.jsx(ye,{...s,...o,ref:r})});Z.displayName="AssistantModalPrimitive.Anchor";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=k("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=k("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);var J=e=>t.jsxs(j,{config:e,children:[t.jsx(O,{}),t.jsx(w,{children:t.jsx(ve,{})})]});J.displayName="AssistantModal";var j=({config:e,...o})=>t.jsx(de,{config:e,children:t.jsx(z,{...o})});j.displayName="AssistantModalRoot";var O=i.forwardRef((e,o)=>t.jsx(y,{children:t.jsx(U,{asChild:!0,children:t.jsx(N,{...e,ref:o})})}));O.displayName="AssistantModalTrigger";var y=A(Z,{className:"aui-root aui-modal-anchor"});y.displayName="AssistantModalAnchor";var ke=A(ue,{variant:"default",className:"aui-modal-button"}),N=i.forwardRef(({"data-state":e,...o},r)=>{const{strings:{assistantModal:{open:{button:{tooltip:s="Close Assistant"}={}}={},closed:{button:{tooltip:a="Open Assistant"}={}}={}}={}}={}}=pe(),n=e==="open"?s:a;return t.jsx(ke,{side:"left",tooltip:n,"data-state":e,...o,ref:r,children:o.children??t.jsxs(t.Fragment,{children:[t.jsx(Ee,{"data-state":e,className:"aui-modal-button-closed-icon"}),t.jsx(Te,{"data-state":e,className:"aui-modal-button-open-icon"})]})})});N.displayName="AssistantModalButton";var w=A(W,{className:"aui-root aui-modal-content",sideOffset:16});w.displayName="AssistantModalContent";var Fe={Root:j,Trigger:O,Content:w,Button:N,Anchor:y},Se=Object.assign(J,Fe);const Ge=()=>{const e=fe({api:"/api/chat/openai-gpt4"});return t.jsx(Se,{runtime:e})};export{Ge as default};
